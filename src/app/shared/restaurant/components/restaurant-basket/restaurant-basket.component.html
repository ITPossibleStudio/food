<div class="wrapper">
  <div class="basket-wrapper">
    <ng-container *ngIf="dishes && dishes.length; else emptyBasket">
      <div class="dish" *ngFor="let dish of dishes">
        <img [src]="dish[1].dish?.imageUrl" alt="dish-item">

        <p class="name">{{ dish[1].dish?.name }}</p>
        <p class="description">{{ dish[1].dish?.description }}</p>
        <p class="dish-price">{{ dish[1].dish?.price }} грн</p>
        <div class="counter">
          {{ dish[1].count }} (порції) x {{ dish[1].dish?.price }} (грн.) = {{ (dish[1].count) * (dish[1].dish?.price) }} грн.
        </div>
        <div class="price"></div>
        <img (click)="deleteDish(dish[1].dish?.id)" class="delete" src="./assets/img/delete.svg" alt="delete">
      </div>
    </ng-container>
    <ng-template #emptyBasket>
      <p class="emptyBasket">BASKET IS EMPTY!</p>
    </ng-template>

  </div>

  <div class="hr"></div>


  <form class="contacts" [formGroup]="orderRestaurantForm" (ngSubmit)="onSubmit()" >
    <label for="name"  >
      Ім'я
      <input id="name" class="name" formControlName="name">
    </label>

    <label for="phone">
      Телефон
      <input id="phone" class="phone" formControlName="phone">
    </label>

    <label for="email">
      email
      <input id="email" class="email" formControlName="email" >
    </label>

    <label for="street">
      Вулиця
      <input id="street" class="street" formControlName="street">
    </label>

    <label for="build">
      Будинок
      <input id="build" class="build" formControlName="build">
    </label>

    <button type="submit" [disabled]="!orderRestaurantForm.valid">Submit</button>

  </form>


<!--    <ng-template #personalData>-->
<!--      <label for="name">Ім'я</label>-->
<!--      <input id="name" class="name">-->

<!--      <label for="mobile">Телефон</label>-->
<!--      <input id="mobile" class="mobile">-->

<!--      <label for="street">Вулиця</label>-->
<!--      <input id="street" class="street">-->

<!--      <label for="build">Будинок</label>-->
<!--      <input id="build" class="build">-->


<!--    </ng-template>-->

<!--    <h5>Доставка лише у місті Львів</h5>-->


<!--    <div class="terms">-->
<!--      <input type="checkbox">-->
<!--      <p>Оформляючи замовлення, я погоджуюся стати учасником програми лояльності "Power Food" і отримувати бонуси за-->
<!--        покупки і інші переваги участі.</p>-->
<!--    </div>-->

<!--    <button (click)="createComponent('success')">Go to step 2</button>-->



  <div class="hr"></div>

  <div class="buy" *ngIf="dishes && dishes.length">
    <p>Всього до сплати: {{ getTotalPrice() }}грн</p>
    <button class="submit">Підтвердити купівлю</button>
  </div>

</div>


